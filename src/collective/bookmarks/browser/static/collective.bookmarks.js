!function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(e,n,r){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function a(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function c(t){t.parentNode.removeChild(t)}function l(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function d(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function p(){return f(" ")}function h(){return f("")}function m(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function g(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function y(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}class b{constructor(t=null){this.a=t,this.e=this.n=null}m(t,e,n=null){this.e||(this.e=d(e.nodeName),this.t=e,this.h(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)u(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(c)}}function v(t){const e={};for(const n of t)e[n.name]=n.value;return e}let k;function x(t){k=t}function $(t){(function(){if(!k)throw new Error("Function called outside component initialization");return k})().$$.after_update.push(t)}const w=[],E=[],S=[],O=[],C=Promise.resolve();let A=!1;function j(t){S.push(t)}let R=!1;const N=new Set;function T(){if(!R){R=!0;do{for(let t=0;t<w.length;t+=1){const e=w[t];x(e),L(e.$$)}for(x(null),w.length=0;E.length;)E.pop()();for(let t=0;t<S.length;t+=1){const e=S[t];N.has(e)||(N.add(e),e())}S.length=0}while(w.length);for(;O.length;)O.pop()();A=!1,R=!1,N.clear()}}function L(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(j)}}const U=new Set;function B(t,e){-1===t.$$.dirty[0]&&(w.push(t),A||(A=!0,C.then(T)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function _(i,s,a,u,l,d,f=[-1]){const p=k;x(i);const h=s.props||{},m=i.$$={fragment:null,ctx:null,props:d,update:t,not_equal:l,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(p?p.$$.context:[]),callbacks:n(),dirty:f,skip_bound:!1};let g=!1;if(m.ctx=a?a(i,h,(t,e,...n)=>{const r=n.length?n[0]:e;return m.ctx&&l(m.ctx[t],m.ctx[t]=r)&&(!m.skip_bound&&m.bound[t]&&m.bound[t](r),g&&B(i,t)),e}):[],m.update(),g=!0,r(m.before_update),m.fragment=!!u&&u(m.ctx),s.target){if(s.hydrate){const t=function(t){return Array.from(t.childNodes)}(s.target);m.fragment&&m.fragment.l(t),t.forEach(c)}else m.fragment&&m.fragment.c();s.intro&&((y=i.$$.fragment)&&y.i&&(U.delete(y),y.i(b))),function(t,n,i){const{fragment:s,on_mount:a,on_destroy:u,after_update:c}=t.$$;s&&s.m(n,i),j(()=>{const n=a.map(e).filter(o);u?u.push(...n):r(n),t.$$.on_mount=[]}),c.forEach(j)}(i,s.target,s.anchor),T()}var y,b;x(p)}let P;"function"==typeof HTMLElement&&(P=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,e,n){this[t]=n}$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});const q=[];const M="collective.bookmarks";var D=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}},H=Object.prototype.toString;function F(t){return"[object Array]"===H.call(t)}function I(t){return void 0===t}function z(t){return null!==t&&"object"==typeof t}function J(t){if("[object Object]"!==H.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function X(t){return"[object Function]"===H.call(t)}function V(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),F(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}var K={isArray:F,isArrayBuffer:function(t){return"[object ArrayBuffer]"===H.call(t)},isBuffer:function(t){return null!==t&&!I(t)&&null!==t.constructor&&!I(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:z,isPlainObject:J,isUndefined:I,isDate:function(t){return"[object Date]"===H.call(t)},isFile:function(t){return"[object File]"===H.call(t)},isBlob:function(t){return"[object Blob]"===H.call(t)},isFunction:X,isStream:function(t){return z(t)&&X(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:V,merge:function t(){var e={};function n(n,r){J(e[r])&&J(n)?e[r]=t(e[r],n):J(n)?e[r]=t({},n):F(n)?e[r]=n.slice():e[r]=n}for(var r=0,o=arguments.length;r<o;r++)V(arguments[r],n);return e},extend:function(t,e,n){return V(e,(function(e,r){t[r]=n&&"function"==typeof e?D(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}};function G(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Y=function(t,e,n){if(!e)return t;var r;if(n)r=n(e);else if(K.isURLSearchParams(e))r=e.toString();else{var o=[];K.forEach(e,(function(t,e){null!=t&&(K.isArray(t)?e+="[]":t=[t],K.forEach(t,(function(t){K.isDate(t)?t=t.toISOString():K.isObject(t)&&(t=JSON.stringify(t)),o.push(G(e)+"="+G(t))})))})),r=o.join("&")}if(r){var i=t.indexOf("#");-1!==i&&(t=t.slice(0,i)),t+=(-1===t.indexOf("?")?"?":"&")+r}return t};function Q(){this.handlers=[]}Q.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},Q.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},Q.prototype.forEach=function(t){K.forEach(this.handlers,(function(e){null!==e&&t(e)}))};var W=Q,Z=function(t,e,n){return K.forEach(n,(function(n){t=n(t,e)})),t},tt=function(t){return!(!t||!t.__CANCEL__)},et=function(t,e){K.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))},nt=function(t,e,n,r,o){return function(t,e,n,r,o){return t.config=e,n&&(t.code=n),t.request=r,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}(new Error(t),e,n,r,o)},rt=K.isStandardBrowserEnv()?{write:function(t,e,n,r,o,i){var s=[];s.push(t+"="+encodeURIComponent(e)),K.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),K.isString(r)&&s.push("path="+r),K.isString(o)&&s.push("domain="+o),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},ot=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],it=K.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=r(window.location.href),function(e){var n=K.isString(e)?r(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0},st=function(t){return new Promise((function(e,n){var r=t.data,o=t.headers;K.isFormData(r)&&delete o["Content-Type"];var i=new XMLHttpRequest;if(t.auth){var s=t.auth.username||"",a=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.Authorization="Basic "+btoa(s+":"+a)}var u,c,l=(u=t.baseURL,c=t.url,u&&!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(c)?function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}(u,c):c);if(i.open(t.method.toUpperCase(),Y(l,t.params,t.paramsSerializer),!0),i.timeout=t.timeout,i.onreadystatechange=function(){if(i&&4===i.readyState&&(0!==i.status||i.responseURL&&0===i.responseURL.indexOf("file:"))){var r,o,s,a,u,c="getAllResponseHeaders"in i?(r=i.getAllResponseHeaders(),u={},r?(K.forEach(r.split("\n"),(function(t){if(a=t.indexOf(":"),o=K.trim(t.substr(0,a)).toLowerCase(),s=K.trim(t.substr(a+1)),o){if(u[o]&&ot.indexOf(o)>=0)return;u[o]="set-cookie"===o?(u[o]?u[o]:[]).concat([s]):u[o]?u[o]+", "+s:s}})),u):u):null,l={data:t.responseType&&"text"!==t.responseType?i.response:i.responseText,status:i.status,statusText:i.statusText,headers:c,config:t,request:i};!function(t,e,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(nt("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}(e,n,l),i=null}},i.onabort=function(){i&&(n(nt("Request aborted",t,"ECONNABORTED",i)),i=null)},i.onerror=function(){n(nt("Network Error",t,null,i)),i=null},i.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(nt(e,t,"ECONNABORTED",i)),i=null},K.isStandardBrowserEnv()){var d=(t.withCredentials||it(l))&&t.xsrfCookieName?rt.read(t.xsrfCookieName):void 0;d&&(o[t.xsrfHeaderName]=d)}if("setRequestHeader"in i&&K.forEach(o,(function(t,e){void 0===r&&"content-type"===e.toLowerCase()?delete o[e]:i.setRequestHeader(e,t)})),K.isUndefined(t.withCredentials)||(i.withCredentials=!!t.withCredentials),t.responseType)try{i.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&i.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&i.upload&&i.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){i&&(i.abort(),n(t),i=null)})),r||(r=null),i.send(r)}))},at={"Content-Type":"application/x-www-form-urlencoded"};function ut(t,e){!K.isUndefined(t)&&K.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var ct,lt={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(ct=st),ct),transformRequest:[function(t,e){return et(e,"Accept"),et(e,"Content-Type"),K.isFormData(t)||K.isArrayBuffer(t)||K.isBuffer(t)||K.isStream(t)||K.isFile(t)||K.isBlob(t)?t:K.isArrayBufferView(t)?t.buffer:K.isURLSearchParams(t)?(ut(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):K.isObject(t)?(ut(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300}};lt.headers={common:{Accept:"application/json, text/plain, */*"}},K.forEach(["delete","get","head"],(function(t){lt.headers[t]={}})),K.forEach(["post","put","patch"],(function(t){lt.headers[t]=K.merge(at)}));var dt=lt;function ft(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var pt=function(t){return ft(t),t.headers=t.headers||{},t.data=Z(t.data,t.headers,t.transformRequest),t.headers=K.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),K.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||dt.adapter)(t).then((function(e){return ft(t),e.data=Z(e.data,e.headers,t.transformResponse),e}),(function(e){return tt(e)||(ft(t),e&&e.response&&(e.response.data=Z(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))},ht=function(t,e){e=e||{};var n={},r=["url","method","data"],o=["headers","auth","proxy","params"],i=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function a(t,e){return K.isPlainObject(t)&&K.isPlainObject(e)?K.merge(t,e):K.isPlainObject(e)?K.merge({},e):K.isArray(e)?e.slice():e}function u(r){K.isUndefined(e[r])?K.isUndefined(t[r])||(n[r]=a(void 0,t[r])):n[r]=a(t[r],e[r])}K.forEach(r,(function(t){K.isUndefined(e[t])||(n[t]=a(void 0,e[t]))})),K.forEach(o,u),K.forEach(i,(function(r){K.isUndefined(e[r])?K.isUndefined(t[r])||(n[r]=a(void 0,t[r])):n[r]=a(void 0,e[r])})),K.forEach(s,(function(r){r in e?n[r]=a(t[r],e[r]):r in t&&(n[r]=a(void 0,t[r]))}));var c=r.concat(o).concat(i).concat(s),l=Object.keys(t).concat(Object.keys(e)).filter((function(t){return-1===c.indexOf(t)}));return K.forEach(l,u),n};function mt(t){this.defaults=t,this.interceptors={request:new W,response:new W}}mt.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=ht(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[pt,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},mt.prototype.getUri=function(t){return t=ht(this.defaults,t),Y(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},K.forEach(["delete","get","head","options"],(function(t){mt.prototype[t]=function(e,n){return this.request(ht(n||{},{method:t,url:e,data:(n||{}).data}))}})),K.forEach(["post","put","patch"],(function(t){mt.prototype[t]=function(e,n,r){return this.request(ht(r||{},{method:t,url:e,data:n}))}}));var gt=mt;function yt(t){this.message=t}yt.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},yt.prototype.__CANCEL__=!0;var bt=yt;function vt(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new bt(t),e(n.reason))}))}vt.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},vt.source=function(){var t;return{token:new vt((function(e){t=e})),cancel:t}};var kt=vt;function xt(t){var e=new gt(t),n=D(gt.prototype.request,e);return K.extend(n,gt.prototype,e),K.extend(n,e),n}var $t=xt(dt);$t.Axios=gt,$t.create=function(t){return xt(ht($t.defaults,t))},$t.Cancel=bt,$t.CancelToken=kt,$t.isCancel=tt,$t.all=function(t){return Promise.all(t)},$t.spread=function(t){return function(e){return t.apply(null,e)}},$t.isAxiosError=function(t){return"object"==typeof t&&!0===t.isAxiosError};var wt=$t,Et=$t;wt.default=Et;var St=wt;let Ot,Ct,At=!0;function jt(){At=null===document.querySelector("body.userrole-authenticated"),Ot=document.getElementsByTagName("body")[0].dataset.portalUrl,Ct=St.create({baseURL:Ot,headers:{Accept:"application/json"}})}"loading"!==document.readyState?jt():document.addEventListener("DOMContentLoaded",jt);const Rt=(t,e,n,r)=>{if(At)return Promise.reject(new Error("Anonymous user"));let o={method:t,url:e,headers:r};return"get"==t?o.params=n:o.data=n,Ct(o).then(t=>Promise.resolve(t.data)).catch(t=>(404!=error.response.status&&console.error(t),Promise.reject(t)))},Nt=t=>{return(e="@bookmark",n=t,Rt("put",e,n)).catch(t=>{});var e,n},Tt=t=>{return(e="@bookmark",n=t,Rt("delete",e,n)).catch(t=>{});var e,n},Lt=()=>{return(t="@bookmarks",Rt("get",t,e)).catch(t=>{});var t,e},Ut=function(e,n=t){let r;const o=[];function s(t){if(i(e,t)&&(e=t,r)){const t=!q.length;for(let t=0;t<o.length;t+=1){const n=o[t];n[1](),q.push(n,e)}if(t){for(let t=0;t<q.length;t+=2)q[t][0](q[t+1]);q.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(i,a=t){const u=[i,a];return o.push(u),1===o.length&&(r=n(s)||t),i(e),()=>{const t=o.indexOf(u);-1!==t&&o.splice(t,1),0===o.length&&(r(),r=null)}}}}(new Map);if(Ut.add=(t,e,n)=>{Ut.update(r=>{let o={uid:t,created:Math.floor((new Date).getTime()/1e3),group:e,payload:n};r.set(t+e,o),Nt(o);let i=new Event("collective.bookmarks.added.bookmark");return document.dispatchEvent(i),r})},Ut.delete=(t,e)=>{Ut.update(n=>{Tt(n.get(t+e)),n.delete(t+e);let r=new Event("collective.bookmarks.removed.bookmark");return document.dispatchEvent(r),n})},localStorage.getItem(M)){console.log("Object.entries(JSON.parse(localStorage.getItem(STORAGEKEY)))",Object.entries(JSON.parse(localStorage.getItem(M))));for(const[t,e]of Object.entries(JSON.parse(localStorage.getItem(M))))Ut.update(n=>(n.set(t,e),n))}document.addEventListener("DOMContentLoaded",()=>{Lt().then(t=>{t.forEach(t=>{Ut.update(e=>{const n=t.uid+t.group,r=e.get(n);if(!r||r.created<t.created){let r={uid:t.uid,created:t.created,group:t.group,payload:t.payload};e.set(n,r)}return e})})}).catch(t=>{})});Ut.subscribe(t=>{let e={};t.forEach((t,n)=>{e[n]=t});let n=JSON.stringify(e);localStorage.setItem(M,n)});function Bt(t){let e,n;return{c(){n=h(),e=new b(n)},m(r,o){e.m(t[3],r,o),u(r,n,o)},p(t,n){8&n&&e.p(t[3])},d(t){t&&c(n),t&&e.d()}}}function _t(t){let e,n;return{c(){n=h(),e=new b(n)},m(r,o){e.m(t[2],r,o),u(r,n,o)},p(t,n){4&n&&e.p(t[2])},d(t){t&&c(n),t&&e.d()}}}function Pt(e){let n,r,o,i;function s(t,e){return(null==r||19&e)&&(r=!!t[4].get(t[0]+t[1])),r?_t:Bt}let a=s(e,-1),l=a(e);return{c(){n=d("span"),l.c(),this.c=t,g(n,"class","collectivebookmarks marker")},m(t,r){u(t,n,r),l.m(n,null),o||(i=m(n,"click",e[5]),o=!0)},p(t,[e]){a===(a=s(t,e))&&l?l.p(t,e):(l.d(1),l=a(t),l&&(l.c(),l.m(n,null)))},i:t,o:t,d(t){t&&c(n),l.d(),o=!1,i()}}}function qt(t,e,n){let r;s(t,Ut,t=>n(4,r=t));let o,{title:i=""}=e,{description:a=""}=e,{imagetag:u=""}=e,{uid:c}=e,{group:l}=e,{textmarked:d}=e,{textunmarked:f}=e;return t.$$set=t=>{"title"in t&&n(6,i=t.title),"description"in t&&n(7,a=t.description),"imagetag"in t&&n(8,u=t.imagetag),"uid"in t&&n(0,c=t.uid),"group"in t&&n(1,l=t.group),"textmarked"in t&&n(2,d=t.textmarked),"textunmarked"in t&&n(3,f=t.textunmarked)},t.$$.update=()=>{448&t.$$.dirty&&(o={title:i,description:a,imagetag:u})},[c,l,d,f,r,function(t){r.get(c+l)?Ut.delete(c,l):Ut.add(c,l,o)},i,a,u]}function Mt(t,e,n){const r=t.slice();return r[8]=e[n],r}function Dt(t,e,n){const r=t.slice();return r[11]=e[n],r}function Ht(t){let e;return{c(){e=d("div"),g(e,"class","empty-bookmarks-list")},m(t,n){u(t,e,n)},d(t){t&&c(e)}}}function Ft(t){let e,n,r,o,i,s=t[11].payload.imagetag&&It(t);function l(t,e){return t[11].payload.title?Jt:zt}let f=l(t),h=f(t);return{c(){e=d("div"),n=d("a"),s&&s.c(),o=p(),h.c(),i=p(),g(n,"href",r="resolveuid/"+t[11].uid),g(e,"class","bookmark")},m(t,r){u(t,e,r),a(e,n),s&&s.m(n,null),a(e,o),h.m(e,null),a(e,i)},p(t,o){t[11].payload.imagetag?s?s.p(t,o):(s=It(t),s.c(),s.m(n,null)):s&&(s.d(1),s=null),4&o&&r!==(r="resolveuid/"+t[11].uid)&&g(n,"href",r),f===(f=l(t))&&h?h.p(t,o):(h.d(1),h=f(t),h&&(h.c(),h.m(e,i)))},d(t){t&&c(e),s&&s.d(),h.d()}}}function It(t){let e,n=t[11].payload.imagetag+"";return{c(){e=d("div"),g(e,"class","image")},m(t,r){u(t,e,r),e.innerHTML=n},p(t,r){4&r&&n!==(n=t[11].payload.imagetag+"")&&(e.innerHTML=n)},d(t){t&&c(e)}}}function zt(t){let e,n,r=t[11].uid+"";return{c(){e=d("div"),n=f(r),g(e,"class","uid")},m(t,r){u(t,e,r),a(e,n)},p(t,e){4&e&&r!==(r=t[11].uid+"")&&y(n,r)},d(t){t&&c(e)}}}function Jt(t){let e,n,r,o,i,s,l,h,b,v,k=t[11].payload.title+"",x=t[11].payload.description&&Xt(t);function $(){return t[7](t[11])}return{c(){e=d("div"),n=d("a"),r=d("div"),o=f(k),i=p(),x&&x.c(),l=p(),h=d("div"),h.innerHTML='<span class="placeholder"><span class="label">Remove</span></span>',g(r,"class","title"),g(n,"href",s="resolveuid/"+t[11].uid),g(h,"class","remove"),g(e,"class","info")},m(t,s){u(t,e,s),a(e,n),a(n,r),a(r,o),a(n,i),x&&x.m(n,null),a(e,l),a(e,h),b||(v=m(h,"click",$),b=!0)},p(e,r){t=e,4&r&&k!==(k=t[11].payload.title+"")&&y(o,k),t[11].payload.description?x?x.p(t,r):(x=Xt(t),x.c(),x.m(n,null)):x&&(x.d(1),x=null),4&r&&s!==(s="resolveuid/"+t[11].uid)&&g(n,"href",s)},d(t){t&&c(e),x&&x.d(),b=!1,v()}}}function Xt(t){let e,n,r=t[11].payload.description+"";return{c(){e=d("div"),n=f(r),g(e,"class","description")},m(t,r){u(t,e,r),a(e,n)},p(t,e){4&e&&r!==(r=t[11].payload.description+"")&&y(n,r)},d(t){t&&c(e)}}}function Vt(t){let e,n=t[11].payload.title&&Ft(t);return{c(){n&&n.c(),e=h()},m(t,r){n&&n.m(t,r),u(t,e,r)},p(t,r){t[11].payload.title?n?n.p(t,r):(n=Ft(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&c(e)}}}function Kt(t){let e,n,r,o,i,s,h,m=t[8]+"",b=t[5](t[8]),v=[];for(let e=0;e<b.length;e+=1)v[e]=Vt(Dt(t,b,e));return{c(){e=d("div"),n=d("div"),r=f(m),o=p(),i=d("div");for(let t=0;t<v.length;t+=1)v[t].c();s=p(),g(n,"class","group-header"),g(i,"class","group-list"),g(e,"class",h="bookmark-group "+t[8])},m(t,c){u(t,e,c),a(e,n),a(n,r),a(e,o),a(e,i);for(let t=0;t<v.length;t+=1)v[t].m(i,null);a(e,s)},p(t,n){if(4&n&&m!==(m=t[8]+"")&&y(r,m),116&n){let e;for(b=t[5](t[8]),e=0;e<b.length;e+=1){const r=Dt(t,b,e);v[e]?v[e].p(r,n):(v[e]=Vt(r),v[e].c(),v[e].m(i,null))}for(;e<v.length;e+=1)v[e].d(1);v.length=b.length}4&n&&h!==(h="bookmark-group "+t[8])&&g(e,"class",h)},d(t){t&&c(e),l(v,t)}}}function Gt(e){let n,r,o,i,s,f,h=!e[3](e[2]),m=h&&Ht(),y=e[4](e[2]),v=[];for(let t=0;t<y.length;t+=1)v[t]=Kt(Mt(e,y,t));return{c(){n=d("div"),o=p(),m&&m.c(),i=p();for(let t=0;t<v.length;t+=1)v[t].c();this.c=t,r=new b(o),g(n,"class",s="bookmark-list "+e[1]),g(n,"data-bookmarks-count",f=e[3](e[2]))},m(t,s){u(t,n,s),r.m(e[0],n),a(n,o),m&&m.m(n,null),a(n,i);for(let t=0;t<v.length;t+=1)v[t].m(n,null)},p(t,[e]){if(1&e&&r.p(t[0]),4&e&&(h=!t[3](t[2])),h?m||(m=Ht(),m.c(),m.m(n,i)):m&&(m.d(1),m=null),116&e){let r;for(y=t[4](t[2]),r=0;r<y.length;r+=1){const o=Mt(t,y,r);v[r]?v[r].p(o,e):(v[r]=Kt(o),v[r].c(),v[r].m(n,null))}for(;r<v.length;r+=1)v[r].d(1);v.length=y.length}2&e&&s!==(s="bookmark-list "+t[1])&&g(n,"class",s),4&e&&f!==(f=t[3](t[2]))&&g(n,"data-bookmarks-count",f)},i:t,o:t,d(t){t&&c(n),m&&m.d(),l(v,t)}}}function Yt(t,e,n){let r;s(t,Ut,t=>n(2,r=t));let{styling:o=""}=e,{layout:i=""}=e;function a(t,e){Ut.delete(t,e)}return t.$$set=t=>{"styling"in t&&n(0,o=t.styling),"layout"in t&&n(1,i=t.layout)},[o,i,r,t=>t.size,t=>{const e=new Set;return t.forEach(t=>{e.add(t.group)}),Array.from(e).sort()},t=>{const e=Array();return r.forEach(n=>{n.group==t&&e.push(n)}),e},a,t=>a(t.uid,t.group)]}customElements.define("bookmark-element",class extends P{constructor(t){super(),this.shadowRoot.innerHTML="<style>.marker{cursor:pointer;display:flex;justify-content:center;align-content:center}</style>",_(this,{target:this.shadowRoot,props:v(this.attributes)},qt,Pt,i,{title:6,description:7,imagetag:8,uid:0,group:1,textmarked:2,textunmarked:3}),t&&(t.target&&u(t.target,this,t.anchor),t.props&&(this.$set(t.props),T()))}static get observedAttributes(){return["title","description","imagetag","uid","group","textmarked","textunmarked"]}get title(){return this.$$.ctx[6]}set title(t){this.$set({title:t}),T()}get description(){return this.$$.ctx[7]}set description(t){this.$set({description:t}),T()}get imagetag(){return this.$$.ctx[8]}set imagetag(t){this.$set({imagetag:t}),T()}get uid(){return this.$$.ctx[0]}set uid(t){this.$set({uid:t}),T()}get group(){return this.$$.ctx[1]}set group(t){this.$set({group:t}),T()}get textmarked(){return this.$$.ctx[2]}set textmarked(t){this.$set({textmarked:t}),T()}get textunmarked(){return this.$$.ctx[3]}set textunmarked(t){this.$set({textunmarked:t}),T()}});function Qt(t){let e,n,r,o,i;return{c(){e=d("span"),n=d("i"),r=p(),o=d("span"),o.textContent="0",g(n,"class","bookmark-icon"),g(o,"class","amount"),g(e,"class","count empty"),g(e,"data-bookmarks-count",i=t[1](t[0]))},m(t,i){u(t,e,i),a(e,n),a(e,r),a(e,o)},p(t,n){1&n&&i!==(i=t[1](t[0]))&&g(e,"data-bookmarks-count",i)},d(t){t&&c(e)}}}function Wt(t){let e,n,r,o,i,s,l=t[1](t[0])+"";return{c(){e=d("span"),n=d("i"),r=p(),o=d("span"),i=f(l),g(n,"class","bookmark-icon"),g(o,"class","amount"),g(e,"class","count filled"),g(e,"data-bookmarks-count",s=t[1](t[0]))},m(t,s){u(t,e,s),a(e,n),a(e,r),a(e,o),a(o,i)},p(t,n){1&n&&l!==(l=t[1](t[0])+"")&&y(i,l),1&n&&s!==(s=t[1](t[0]))&&g(e,"data-bookmarks-count",s)},d(t){t&&c(e)}}}function Zt(e){let n,r;function o(t,e){return(null==n||1&e)&&(n=!!t[1](t[0])),n?Wt:Qt}let i=o(e,-1),s=i(e);return{c(){s.c(),r=h(),this.c=t},m(t,e){s.m(t,e),u(t,r,e)},p(t,[e]){i===(i=o(t,e))&&s?s.p(t,e):(s.d(1),s=i(t),s&&(s.c(),s.m(r.parentNode,r)))},i:t,o:t,d(t){s.d(t),t&&c(r)}}}function te(t,e,n){let r;s(t,Ut,t=>n(0,r=t));return $(()=>{let t=new Event("collective.bookmarks.sum.updated");document.dispatchEvent(t)}),[r,t=>t.size]}customElements.define("bookmark-list",class extends P{constructor(t){super(),this.shadowRoot.innerHTML="<style>.remove{cursor:pointer}</style>",_(this,{target:this.shadowRoot,props:v(this.attributes)},Yt,Gt,i,{styling:0,layout:1}),t&&(t.target&&u(t.target,this,t.anchor),t.props&&(this.$set(t.props),T()))}static get observedAttributes(){return["styling","layout"]}get styling(){return this.$$.ctx[0]}set styling(t){this.$set({styling:t}),T()}get layout(){return this.$$.ctx[1]}set layout(t){this.$set({layout:t}),T()}});customElements.define("bookmark-sum",class extends P{constructor(t){super(),_(this,{target:this.shadowRoot,props:v(this.attributes)},te,Zt,i,{}),t&&t.target&&u(t.target,this,t.anchor)}})}();
//# sourceMappingURL=collective.bookmarks.js.map
